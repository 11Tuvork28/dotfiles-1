session_name: digital
start_directory: ~/Code/Digital_Schedule
windows:
  - window_name: vifm
    layout: main-horizontal
    shell_command_before:
      - conda activate traject
    panes:
      - shell_command:
          - cd ~/Code/Digital_Schedule
          - vifm .
  - window_name: deploy
    layout: main-vertical
    focus: true
    shell_command_before:
      - conda activate traject
    panes:
      - shell_command:
          - cd ~/Code/Digital_Schedule
          - cd ~/Code/Digital_Schedule/digital-schedule-backend
          - git pull
          - yarn run debug
      - shell_command:
          - cd ~/Code/Digital_Schedule/digital-schedule-frontend
          - git pull
          - npm run dev
      - shell_command:
          - cd ~/Code/Digital_Schedule
          - docker-compose up
  - window_name: emacs
    panes:
      - shell_command:
          - cd ~/Code/Digital_Schedule/digital-schedule-backend
          - conda activate traject
          - emacs
